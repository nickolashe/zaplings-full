<!doctype html>
{% load staticfiles %}
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Zaplings | Grow.</title>
    <link rel="stylesheet" href="{% "style.css" %}" />
	<link href="{% static "http://fonts.googleapis.com/css?family=Varela+Round|Open+Sans:400,300" %}" rel='stylesheet' type='text/css'>
    <script src="{% static "./js/vendor/modernizr.js" %}"></script>
    <script src="{% static "js/vendor/jquery.js" %}"></script>
  </head>
  <body>
	  
	 <div class="wrapper">
	  {% include "./zaplings/header.html" %}
	  		
		<h2 class="titleCenter"><span id="timer" style="">30</span> seconds: What do you need?</h2>
		<form id="need-tags">
	  		<div class="row">
				<div class="large-6 medium-6 small-12 medium-offset-3 columns">
					<input class="input-tags" type="text" placeholder="I need... (press return to add)"/>
					<div class="continue-delay hidden">Take as much time as you need!
						<div class="continue-tags">
							<a href="#" data-reveal-id="signup-reveal"><button class="button round">Save profile</button></a>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="large-8 medium-8 small-12 columns medium-offset-2">
					<div class="suggestion-box">
					
						{% for need in needs %}
					
						<input id="need-suggest-{{ need-id }}" class="vis-hidden" type="checkbox" name="need-tag[]" value="{{ need }}">
							<label class="tag button small light round" for="need-suggest-{{ need-id }}">{{ need }}</label>
						
						{% end for %}
					</div>
				</div>
			</div>	
		</form>

		<div class="push"></div>
		</div>
		
		{% include "./zaplings/footer.html" %}
    

    <script src="{% static "js/foundation.min.js" %}"></script>		
	<script type="text/javascript">
  		$(document).foundation();
	</script>
	
	<script type="text/javascript">
		$(document).ready(function() {
			
			$('body').one('click',function(){
			
			var count=30;
			var counter=setInterval(timer, 1000); //1000 will  run it every 1 second

			function timer()
			{
			  count=count-1;
			  $('#timer').attr("style", "color: #70bf4f");
			  if (count < 0)
			  {
			     clearInterval(counter);
				 $('.continue-delay').removeClass('hidden');
			     return;
			  };

			  document.getElementById("timer").innerHTML=count; // watch for spelling
			};
		});
				
				
			$('.input-tags').keypress(function (e) {
				var text = $(this).val();
					if (e.which == 13 && text != '') {
						$('.input-tags').val('');						
				  		$('.suggestion-box').prepend('<button class="button round small tag-suggested selected">'+text+'</button>');
						return false;	
						$(this).focus().select().attr("placeholder", "");
					}

			});	
			$('.suggestion-box').on('click', 'button', (function(){
				$(this).toggleClass('selected').blur();
				$('.input-tags').focus().select();
			}));

			$('#need-tags').submit(function() {
				var values = $('#need-tags').serialize();
			});
		});
		

	</script>
  </body>
</html>

